<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Fix Ubuntu Server Upstart init-checkconf error</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Ahti Kitsik / ahtik</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Fix Ubuntu Server Upstart init-checkconf error</h2>
<p class="meta">20 Jan 2014</p>

<div class="post">
<p><b>Upstart is the new mechanism in Ubuntu to manage some of the system services. Similar to systemd, sysvinit etc. When creating an upstart config there are two usability issues that can easily happen: "unknown job" for jobs that do exist and "cannot find dbus-launch".<b></p>

<p>If you have SERVICENAME.conf in /etc/init/ but still getting "Unknown job: SERVICENAME" then it is most likely a syntax error.</p>

<p>You can check the syntax using "init-checkconf /etc/init/SERVICENAME.conf"</p>

<p>But the problem with the command is that it can throw a somewhat confusing error:</p>

<code>
ERROR: cannot find dbus-launch
</code>

<p>This is due to the d-bus "issue" if you run server without X session == normal non-desktop servers.</p>

<p>Fix:</p>

<code>
sudo apt-get install dbus-x11
</code>
<p>No worries, installing dbus-x11 does not include the whole X11. It's just a small standalone x11 deps package.</p>
<p>&nbsp;</p>

</div>


          <div class="footer">
            <div class="contact">
              <p>
                Ahti Kitsik<br />
                Java, Eclipse RCP, Python, Node.js, web apps developer<br />
                ak@ahtik.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/ahtik">github.com/ahtik</a><br />
                <a href="https://twitter.com/ahtik">twitter.com/ahtik</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
