---
layout: post
title: Controlling your eclipse plugin activation
categories:
- Eclipse
tags: []
status: draft
type: post
published: false
meta:
  _edit_last: '1'
---
4 options to activate eclipse plugins: manual, lazy, startup, osgi
<paulweb515> AhtiK: lazyStart = false means you are committed to manually starting your bundle when you need it.  lazyStart = true means eclipse will do it for you
<lichten> Yes
<ahtiK> paulweb515: thanks! I even grabbed the eclipse book and yes, the only way to get plugin automatically loaded at startup is to use org.eclipse.ui.startup extension point.
* arkub has quit (Read error: 113 (No route to host))
<paulweb515> AhtiK: well, it depends on what you are doing?  In RCP you controls the plugins that are started up.
<paulweb515> AhtiK: in eclipse you can't, but it's not generally a good idea to use org.eclipse.ui.startup either.  Why do you need to start up early (normally a use action is sufficient to activate your plugin)?
* Tortoose has quit (Remote closed the connection)
<ahtiK> paulweb515: I simply wanted to attach a breakpoint listener in my plugin startup. so that listener was not registered until plugin got loaded.
* Resistance has quit (Connection timed out)
<paulweb515> AhtiK: if you are going to go that route, please make sure that your listener plugin has no UI content
<ahtiK> paulweb515: so, atm, I'm attaching that listener at plugin start() and removing in stop()
<paulweb515> no actionSets, popupMenus, views, handlers, editors, etc
<ahtiK> paulweb515: I already took the road of simply using lazyStart=true as in reality one class gets loaded before I need that listener. But just became curious about the plugin activation possibilities.
<paulweb515> AhtiK: in RCP the way around stuff like that is to start the bundle from osgi.bundles in the config.ini
<ahtiK> paulweb515: haha, hmm, good to know.. so when org.eclipse.ui.startup extension point is used, at that point UI is not intialized at all, right? or at least not guaranteed to be.
* ramo102 has quit ("http://www.mibbit.com ajax IRC Client")
<paulweb515> AhtiK: org.eclipse.ui.startup the workbench window is up, but your earlyStartup() method (or whatever) is not called from the UI thread
<ahtiK> paulweb515: ahh ok, i see
<paulweb515> AhtiK: when it is used at all (and we don't recommend it :-) the common pattern is to schedule UIJobs or WorkbenchJobs from the earlyStartup() method
<paulweb515> AhtiK: if the UI thread is needed
<ahtiK> paulweb515: yep. i gues for rcp case, osgi.bundles feels cleaner and no trouble with the UI thread, right?
<paulweb515> AhtiK: in that you are pretty well guaranteed that you won't start up in the UI threat :-)
* gota has quit (Remote closed the connection)
<ahtiK> paulweb515: haha, so osgi.bundles conf with config.ini is also started in non-UI thread and all UI-related activities must be done using UIJob. Unless they guarantee that there is no UI thread available at all at that point and job is not scheduled properly .p
<paulweb515> AhtiK: RCP provides must greater control ... but of course osgi.bundles is what is controlling the start of the workbench itself.  There must be ways to sync them up, but I've never had to "go that low" as it were
<ahtiK> paulweb515: kk! thanks a lot for your time, it was very helpful! I'll see, maybe a blogpost would be nice about it, will put it into todo list.
