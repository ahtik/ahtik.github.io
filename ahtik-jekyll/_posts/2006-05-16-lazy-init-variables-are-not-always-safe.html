---
layout: post
title: Lazy-init variables are not always safe
categories:
- Java
tags: []
status: publish
type: post
published: true
meta:
  dsq_thread_id: '301881312'
---
Have you ever used following to lazy-initialize your variable?

<img id="image8" alt="codeshot.png" src="http://ahtik.com/blog/wp-content/uploads/2006/05/codeshot.png" />
If you have then don't.

Just to remind or introduce, it looks OK but it isn't - this is a pretty serious bug you can easily make.

And it's called Double-Checked Locking.
Very good and easy-to-understand explanation is <a target="_blank" href="http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html">here</a>
